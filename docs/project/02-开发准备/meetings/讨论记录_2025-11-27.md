# 讨论记录 2025-11-27

> 评审进度确认 + 职责边界明确 + 工程量计算方向

---

## 一、与易达沟通

### 1.1 游工回复

**关于评审**：
- 正在排队，即将评审

**关于模块分工**：
- 清单库及版本维护 → 黄增沛主导（系统端）
- 插件开发 → 功能点在原型中有初步体现，需再次讨论确认
- 项目创建 → 模型端在 Revit 操作；系统端由黄增沛主导

**需要进一步明确**：
1. 插件端需要配给什么功能点？实现什么效果？
2. 基于甲方项目清单，涉及哪些需要开发代码提量的清单？
3. 提量规则是什么？

**关键澄清**：
- 建模上传带出的是**含模型数据与参数的轻量化包**
- 清单需要在**系统中生成**（不是直接带出清单）

### 1.2 黄增沛回复

**评审状态**：
- 已在排队，即将评审
- 插件开发可能包含在本次评审内（需问游河怡确认）

**清单库及版本维护设计思路**：
```
现有方式:  单价库 + 清单 + [大版本]
新方式:    单价库 + 清单 + [清单级版本]
```

- 沿用"单价库+清单"的方式
- **去除大版本**，版本精确到**清单级别**
- 核心识别：清单编码 + 清单名称
- 业态扩展：切换业态（YDC、YBP）时增加扩展识别码
  - YDC 示例：co, pmtCode, assetCode, beType

**参考资料**：
- 建议对比 YDC、汉堡王、奥乐齐的清单结构

**系统端计算**：
- 已经可用，可以试用

---

## 二、与李昱讨论

### 2.1 评审相关

**待确认事项**：
- 目前评审的具体内容是什么？
- 其他部分（插件、系统端生成清单、工程量）是否受评审影响？
- 两部分耦合程度如何？→ 决定能否并行推进

### 2.2 插件开发

**结论**：
- 功能内聚，核心功能：上传、下载、导出 BIM 数据包
- 如果复杂 → 原型展示 → 和易达讨论
- 暂缓，不是当前重点

### 2.3 工程量计算（重点）

**需要搞清楚易达的实现方式**：

| 问题 | 说明 |
|------|------|
| 计算在哪执行？ | Revit 插件端 vs 系统服务器端 |
| 规则如何配置？ | 系统端配置界面/方式 |
| 规则如何传递？ | Revit 如何识别/解码配置的规则 |
| 引擎如何调用？ | Revit API 的具体使用方式 |

**李昱给出的方向**：
```
计算流程:
  1. 系统配置计算规则
  2. Revit 解码规则
  3. 调用 Revit API 底层计算引擎
  4. 输出工程量

原则：不要写死，功能解耦
```

**具体案例 - 幕墙系统门**：
```
幕墙面积计算
├── 选项：是否扣除门的面积
│   ├── 扣除 → 幕墙面积 - 门面积
│   └── 不扣除 → 幕墙面积
└── 配置时可选
```

### 2.4 职责边界明确

**Stephen 负责范围**（2025-11-27 至 12 月底）：
- 清单 → 出清单 + 工程量 模块
- 节奏：零星推进（李昱事情多）

**不在 Stephen 范围内**：
- 清单库维护、版本管理 → 黄增沛 ↔ 李昱 直接对接

---

## 三、下一步行动

### 立即行动
1. [ ] 问易达：评审具体内容 + 耦合程度
2. [ ] 试用：系统端计算功能

### 短期行动
3. [ ] 梳理：工程量计算的技术细节
4. [ ] 整理：需要支持计算的清单类型
5. [ ] 了解：幕墙-门面积扣除的具体实现

### 暂缓
- 插件功能点讨论（等评审结果）
- 清单库设计（黄增沛 ↔ 李昱）

---

## 四、关键决策记录

| 决策 | 内容 | 决策人 | 日期 |
|------|------|--------|------|
| 职责范围 | Stephen 只负责清单→工程量 | 李昱 | 2025-11-27 |
| 清单库对接 | 黄增沛↔李昱直接对接 | 李昱 | 2025-11-27 |
| 工程量方向 | 功能解耦，不要写死 | 李昱 | 2025-11-27 |

---

**记录人**: Stephen
**日期**: 2025-11-27
