# 工程量计算规则梳理

> 12月核心任务 - 全面梳理 YBP 业主清单的工程量计算部分

**负责人**: Stephen
**时间范围**: 2025-12
**交接对象**: 李昱（2025-01 起接管）

---

## 一、梳理目标

### 输出物清单

| 输出物 | 说明 | 状态 |
|--------|------|------|
| 水管工程量计算规则 | 所有管件类型计算方式 | ⏳ 待开始 |
| 系统名称属性应用范围 | 哪些构件需要按系统名称细分 | ⏳ 待开始 |
| 业主清单工程量分类表 | 麦当劳、奥乐齐清单分类 | ⏳ 待开始 |

### 分类标准

每个清单项需分类为：

| 分类 | 说明 | 示例 |
|------|------|------|
| Revit 自带 | 直接从模型读取参数 | 面积、长度、体积 |
| 简单计算 | 基于参数的简单运算 | 数量 × 系数 |
| 需代码实现 | 需要插件代码计算 | 跨构件运算、管件特殊逻辑 |

---

## 二、水管系统（重点）

> 排水管变径问题引出，需全面梳理

### 2.1 管件类型清单

| 管件类型 | Revit 类别 | 计算方式 | 备注 |
|---------|-----------|----------|------|
| 直管 | Pipe | 长度 | Revit 自带 |
| 弯头 | Pipe Fitting | 计数 | - |
| 三通 | Pipe Fitting | 计数 | - |
| 四通 | Pipe Fitting | 计数 | - |
| 变径 | Pipe Fitting | ？ | 需确认长度计算 |
| 阀门 | Pipe Accessory | 计数 | - |

### 2.2 变径长度计算问题

**问题描述**：
- CAD 传统方式：管长算到边缘
- Revit 方式：管长算到中心线，变径按两端平均

**待确认**：
- [ ] 与薛飘飘确认实际建模方式
- [ ] 确认业主清单要求
- [ ] 确定计算规则

### 2.3 与造价沟通事项

- [ ] 管件计价单位（个/套/组）
- [ ] 变径是否单独计价
- [ ] 管件规格参数要求

---

## 三、风管系统

> "系统名称"细分功能应用范围

### 3.1 系统名称应用场景

| 构件类型 | 是否需要细分 | 系统名称示例 |
|---------|-------------|-------------|
| 风管 | ✅ | 送风、回风、排风、新风 |
| 风管管件 | ✅ | 同上 |
| 软接 | ？ | 待确认 |
| 消声器 | ？ | 待确认 |

### 3.2 实现方案

- 插件端：读取 Revit "系统名称"参数（不复杂）
- 系统端：通过品目配置关联

### 3.3 待确认

- [ ] 完整列出需要细分的构件类型
- [ ] 与薛飘飘确认实际建模规范

---

## 四、业主清单梳理

### 4.1 麦当劳清单

| 清单编号 | 清单名称 | 工程量来源 | 分类 |
|---------|---------|-----------|------|
| - | - | - | - |

**待办**：
- [ ] 获取完整清单
- [ ] 逐项分析工程量来源
- [ ] 标注特殊计算逻辑

### 4.2 奥乐齐清单

| 清单编号 | 清单名称 | 工程量来源 | 分类 |
|---------|---------|-----------|------|
| - | - | - | - |

**待办**：
- [ ] 获取完整清单
- [ ] 逐项分析工程量来源
- [ ] 标注特殊计算逻辑

---

## 五、其他系统

### 5.1 电气系统

待补充

### 5.2 消防系统

待补充

### 5.3 给排水系统

待补充

---

## 六、协作记录

### 与薛飘飘沟通

| 日期 | 主题 | 结论 |
|------|------|------|
| - | - | - |

### 与造价沟通

| 日期 | 主题 | 结论 |
|------|------|------|
| - | - | - |

---

## 七、交接准备

### 交接内容

1. 本文档及所有输出物
2. 业主清单原件
3. 沟通记录

### 交接时间

2025-01 月初

---

## 变更记录

| 版本 | 日期 | 修改内容 |
|------|------|----------|
| v1.0 | 2025-12-03 | 创建模板 |
