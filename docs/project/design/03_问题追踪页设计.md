# 问题追踪页设计

> 项目问题跟踪与状态筛选

**最后更新**: 2025-12-10

---

## 一、页面目标

| 目标 | 说明 |
|-----|------|
| **问题追踪** | 记录待讨论和已解决的技术问题 |
| **状态筛选** | 快速过滤不同状态的问题 |
| **优先级管理** | P0/P1/P2 优先级区分 |

---

## 二、页面结构

```
问题追踪页 (/issues)
├── 统计卡片区（4 个，可点击筛选）
│   ├── 全部问题
│   ├── 已解决
│   ├── 讨论中
│   └── 待讨论
│
├── 筛选标签栏
│   └── 全部 | 讨论中 | 待讨论 | 已解决
│
└── 问题列表
    └── 问题卡片（可展开）
        ├── 状态指示点
        ├── 优先级 Badge
        ├── 状态 Badge
        ├── 标题
        ├── 描述
        └── 标签列表
```

---

## 三、统计卡片区

### 3.1 布局

4 列网格（`grid-cols-2 sm:grid-cols-4`）

### 3.2 卡片设计

```
┌─────────────────┐
│       8         │
│   全部问题      │
│  (可点击筛选)   │
└─────────────────┘
```

### 3.3 四种统计

| 统计 | 颜色 | 说明 |
|-----|------|------|
| 全部问题 | text-primary | 所有问题总数 |
| 已解决 | accent-green | 已有解决方案 |
| 讨论中 | accent-blue | 正在讨论 |
| 待讨论 | accent-amber | 需要讨论 |

### 3.4 交互

- 点击卡片：切换筛选状态
- 选中状态：`border-accent-blue ring-1 ring-accent-blue/20`

---

## 四、筛选标签栏

### 4.1 布局

水平 flex（`flex gap-2 flex-wrap`）

### 4.2 设计

```
[全部]  [讨论中]  [待讨论]  [已解决]
 (选中)   (默认)    (默认)    (默认)
```

### 4.3 样式

- 默认: `bg-bg-elevated text-text-secondary`
- 选中: `bg-accent-blue text-white`
- 悬浮: `hover:text-text-primary hover:bg-bg-hover`

---

## 五、问题列表

### 5.1 布局

垂直堆叠（`space-y-3`）

### 5.2 卡片设计

```
┌─────────────────────────────────────────────────────────┐
│  ●  [P0]  [讨论中]  水管管件计算规则                    │
│                                                         │
│  12月核心任务：全面梳理管件计算                         │
│                                                         │
│  [直管]  [弯头]  [三通]  [变径]  [四通]                 │
└─────────────────────────────────────────────────────────┘
```

### 5.3 数据结构

```javascript
const issues = [
  {
    id: 'pipe-calc',
    title: '水管管件计算规则',
    priority: 'P0',
    status: 'discussing',
    desc: '12月核心任务：全面梳理管件计算',
    items: ['直管', '弯头', '三通', '变径', '四通'],
  },
  // ...
]
```

### 5.4 状态配置

```javascript
const statusConfig = {
  pending: { label: '待讨论', color: 'badge-amber' },
  discussing: { label: '讨论中', color: 'badge-blue' },
  resolved: { label: '已解决', color: 'badge-green' },
}
```

### 5.5 优先级配置

```javascript
const priorityConfig = {
  P0: { label: 'P0', color: 'badge-red' },
  P1: { label: 'P1', color: 'badge-amber' },
  P2: { label: 'P2', color: 'bg-bg-active text-text-secondary' },
}
```

### 5.6 样式

- 卡片: `.card p-5`
- 状态点: `.status-dot` + success/info/warning
- Badge: `.badge` + 对应颜色类
- 标签: `text-xs bg-bg-active text-text-tertiary px-2 py-1 rounded`

---

## 六、空状态

### 6.1 设计

```
┌─────────────────────────────────┐
│              🎉                 │
│                                 │
│    暂无 [状态名] 的问题         │
└─────────────────────────────────┘
```

### 6.2 样式

- 居中对齐
- emoji: `text-4xl`
- 文字: `text-text-secondary`

---

## 七、交互设计

### 7.1 筛选逻辑

```javascript
const [filter, setFilter] = useState('all')

const filteredIssues = filter === 'all'
  ? issues
  : issues.filter(i => i.status === filter)

const counts = {
  all: issues.length,
  resolved: issues.filter(i => i.status === 'resolved').length,
  discussing: issues.filter(i => i.status === 'discussing').length,
  pending: issues.filter(i => i.status === 'pending').length,
}
```

### 7.2 动画效果

- 卡片入场: `animate-fade-up` + `animationDelay`
- 筛选切换: 无缝过渡

---

## 八、响应式设计

| 断点 | 统计卡片 | 问题列表 |
|-----|---------|---------|
| 手机 | 2列 | 全宽 |
| 平板+ | 4列 | 全宽 |

---

## 变更记录

| 版本 | 日期 | 修改内容 |
|------|------|----------|
| v1.0 | 2025-11-25 | 初稿 |
| v2.0 | 2025-11-27 | Google风格重设计，添加统计卡片 |
| v3.0 | 2025-12-10 | 简化结构，添加筛选标签栏，移除展开/折叠 |
