# 项目概述

## 一、项目背景

### 1.1 参与方

| 角色 | 公司 | 职责 |
|-----|------|------|
| 需求方 | 上海永麦管理咨询有限公司 | 提出需求、业务验证 |
| 开发方 | 广州易达建信科技开发有限公司 | 系统开发、技术实现 |

### 1.2 业务背景

**传统模式（痛点）**：
- 甲方提供门店设计的 CAD 图纸
- 使用 CAD 拉线算量
- 效率低、准确度依赖人工经验

**数字化转型目标**：
- 迎合 BIM 数字化趋势
- 将门店建立成 Revit 模型
- 自动出量，提高准确度
- 结合智能化技术实现自动算量

### 1.3 两套系统

| 系统 | 状态 | 说明 |
|-----|------|------|
| **YDC** | 已有 | 功能强大，但需手动导出明细表、手动填充数据 |
| **YBP** | 开发中 | 目标：实现 YDC 功能 + 自动化填量 |

---

## 二、核心目标

### 2.1 YBP 系统目标

**一句话描述**：建模即算量

**具体目标**：
1. 将建模员使用的族维护在 YBP 系统
2. 族关联对应的清单和算量规则
3. 建模时从线上族库下载使用
4. 建模完成后上传系统，自动匹配清单、计算工程量

### 2.2 核心价值

> 把「族 - 清单 - 算量规则」的关联关系**前置到族库维护阶段**，建模完成即可自动出量，省去手动填充环节。

### 2.3 完整业务流程

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              配置阶段（一次性）                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌───────────┐     ┌─────────────────┐     ┌─────────────────────────────┐ │
│  │ 族        │ ──▶ │ Revit 插件      │ ──▶ │ YBP 系统品目配置            │ │
│  │ 自建族    │     │ （易达开发）    │     │ • 构件属性→清单匹配规则     │ │
│  │ 系统族    │     │ 上传到对应品目  │     │ • 工程量属性→出量规则       │ │
│  └───────────┘     └─────────────────┘     └─────────────────────────────┘ │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                              使用阶段（每个项目）                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────────┐     ┌───────────┐     ┌─────────────────────────────┐ │
│  │ Revit 插件      │ ──▶ │ 建模      │ ──▶ │ Revit 插件                  │ │
│  │ 下载族（类型）  │     │ 使用族    │     │ 导出 BIM 数据包             │ │
│  └─────────────────┘     └───────────┘     └──────────────┬──────────────┘ │
│                                                           │                 │
│                                                           ▼                 │
│                                            ┌─────────────────────────────┐ │
│                                            │ YBP 系统                    │ │
│                                            │ • 新建项目                  │ │
│                                            │ • 上传 BIM 数据包           │ │
│                                            │ • 自动匹配清单              │ │
│                                            │ • 计算工程量                │ │
│                                            │ • 显示结果                  │ │
│                                            └─────────────────────────────┘ │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

**流程说明**：

| 阶段 | 步骤 | 执行者 | 工具 |
|-----|------|--------|------|
| 配置 | 1. 上传族到品目 | 族库管理员 | Revit 插件 |
| 配置 | 2. 配置品目参数和匹配规则 | 族库管理员 | YBP Web 端 |
| 使用 | 3. 下载族（族类型） | 建模员 | Revit 插件 |
| 使用 | 4. 使用族建模 | 建模员 | Revit |
| 使用 | 5. 导出 BIM 数据包 | 建模员 | Revit 插件 |
| 使用 | 6. 新建项目并上传数据包 | 项目经理 | YBP Web 端 |
| 使用 | 7. 查看匹配结果和工程量 | 项目经理 | YBP Web 端 |

---

## 三、为什么需要自动算量

1. **不同清单单价不同**：同一类构件，不同规格/品牌的采购单价不同
2. **需要精确统计**：统计出现哪些清单（规格），每种数量多少
3. **计算总成本**：清单 × 单价 = 成本

---

## 四、项目范围

本文档体系记录的是 **YBP 系统**的需求讨论和设计，主要涉及：

- 族库管理
- 清单匹配逻辑
- 工程量计算
- 参数体系设计
- 系统原型设计

---

## 变更记录

| 版本 | 日期 | 修改内容 |
|------|------|----------|
| v1.0 | - | 初稿，整理自沟通记录 |
